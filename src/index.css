@import-normalize;

:root {
  --color-red-dark: #5e1313;
  --color-red: #ff3e3e;
  --color-red-medium: #f7d2db;
  --color-red-light: #fcf3f7;
  --color-orange: #eb760d;
  --color-orange-dark: #8f4400;
  --color-yellow-dark: #443818;
  --color-yellow: #ffd220;
  --color-yellow-border: #ebddb8;
  --color-yellow-light: #fff9e9;
  --color-blue-dark: #004da5;
  --color-blue: #3f97ff;
  --color-blue-light: #eaf3ff;
  --color-green-dark: #0d6c1e;
  --color-green: #5cd874;
  --color-green-border: #cdebd2;
  --color-green-light: #e9f4eb;
  --color-purple-dark: #470bd4;
  --color-purple: #7c60ff;

  --color-neutral-0: #ffffff;
  --color-neutral-1: #f5f5f5;
  --color-neutral-2: #eeeeee;
  --color-neutral-3: #dddddd;
  --color-neutral-4: #bbb;
  --color-neutral-5: #999;
  --color-neutral-6: #888;
  --color-neutral-7: #666;
  --color-neutral-8: #444;
  --color-neutral-9: #222;
  --color-neutral-10: #000;

  --color-lcd-bg: #8db48e;
  --color-lcd-dark: #466b46;
  --color-lcd-light: #a2d4a4;
  --color-lcd-hover: #325732;

  --shadow-small: 0 2px 4px -1px rgba(0, 0, 0, 0.2);
  --shadow-medium: 0 0.5rem 1rem -0.5rem rgba(0, 0, 0, 0.1);
  --shadow-large: 0 1rem 2rem -0.5rem rgba(0, 0, 0, 0.15);
  --shadow-xlarge: 0 2rem 4rem -2rem rgba(0, 0, 0, 0.1);
}

body {
  --color-bg: var(--color-neutral-0);
  --color-bg-alt: var(--color-neutral-1);
  --color-bg-radio-selected: var(--color-blue);
  --color-bg-input: var(--color-neutral-0);

  --color-selection: var(--color-neutral-2);

  --color-border: var(--color-neutral-3);
  --color-border-darker: var(--color-neutral-4);
  --color-border-darker-hover: var(--color-neutral-5);
  --color-border-overlay: rgba(0, 0, 0, 0.1);
  --color-border-overlay-dark: rgba(0, 0, 0, 0.2);

  --color-text: var(--color-neutral-9);
  --color-text-light: var(--color-neutral-7);
  --color-text-header: var(--color-neutral-9);

  --color-bg-link-hover: var(--color-blue-light);
  --color-text-link-hover: var(--color-blue-dark);

  --color-button-bg: var(--color-neutral-9);
  --color-button-text: var(--color-neutral-0);
  --color-button-bg-hover: var(--color-neutral-10);

  --color-announcement-bg: var(--color-green-light);
  --color-announcement-text: var(--color-green-dark);
  --color-announcement-selection: var(--color-green-border);

  --color-tooltip-bg: var(--color-neutral-10);
  --color-tooltip-text: var(--color-neutral-0);

  --color-callout-bg: var(--color-yellow-light);
  --color-callout-border: var(--color-yellow);
  --color-callout-text: var(--color-yellow-dark);
  --color-callout-selection: var(--color-yellow-border);

  --color-timeline-line: var(--color-red-medium);
  --color-timeline-dot: var(--color-red);

  --color-protected-bg: var(--color-neutral-10);
  --color-protected-text: var(--color-neutral-2);
  --color-protected-text-header: var(--color-neutral-0);
  --color-protected-input-bg: var(--color-neutral-0);
  --color-protected-input-text: var(--color-neutral-9);

  --color-synth-base: var(--color-neutral-8);
  --color-synth-endcap: var(--color-neutral-9);
  --color-synth-lcd-outline: var(--color-neutral-9);
  --color-synth-keys-outline: var(--color-neutral-9);
  --color-synth-whitekey: var(--color-neutral-0);
  --color-synth-whitekey-pressed: var(--color-purple);
  --color-synth-blackkey: var(--color-neutral-9);
  --color-synth-blackkey-pressed: var(--color-purple-dark);

  --focus-ring: 0 0 0 4px rgba(63, 151, 255, 0.5);
}

body[data-darkmode="true"] {
  --color-bg: #191919;
  --color-bg-alt: #111;

  --color-bg-input: var(--color-neutral-0);

  --color-selection: var(--color-neutral-6);

  --color-border: var(--color-neutral-8);
  --color-border-darker: var(--color-neutral-7);
  --color-border-darker-hover: var(--color-neutral-6);
  --color-border-overlay: rgba(255, 255, 255, 0.1);
  --color-border-overlay-dark: rgba(255, 255, 255, 0.2);

  --color-text: var(--color-neutral-3);
  --color-text-light: var(--color-neutral-4);
  --color-text-header: var(--color-neutral-0);

  --color-bg-link-hover: var(--color-blue);
  --color-text-link-hover: var(--color-neutral-0);

  --color-button-bg: var(--color-neutral-9);
  --color-button-text: var(--color-neutral-0);
  --color-button-bg-hover: var(--color-blue);

  --color-announcement-bg: var(--color-green-dark);
  --color-announcement-text: var(--color-green-light);
  --color-announcement-selection: var(--color-green-border);

  --color-tooltip-bg: var(--color-neutral-0);
  --color-tooltip-text: var(--color-neutral-9);

  --color-callout-bg: var(--color-neutral-9);
  --color-callout-border: var(--color-neutral-8);
  --color-callout-text: var(--color-neutral-3);
  --color-callout-selection: var(--color-selection);

  --color-timeline-line: var(--color-neutral-8);
  --color-timeline-dot: var(--color-neutral-3);

  --color-protected-bg: var(--color-neutral-0);
  --color-protected-text: var(--color-neutral-9);
  --color-protected-text-header: var(--color-neutral-10);
  --color-protected-input-bg: var(--color-neutral-1);
  --color-protected-input-text: var(--color-neutral-9);

  --color-synth-base: var(--color-blue);
  --color-synth-endcap: var(--color-blue-dark);
  --color-synth-lcd-outline: var(--color-blue-dark);
  --color-synth-keys-outline: var(--color-blue-dark);
  --color-synth-whitekey-pressed: var(--color-blue);
  --color-synth-blackkey-pressed: var(--color-blue-dark);

  --color-lcd-bg: var(--color-blue-light);
  --color-lcd-dark: var(--color-blue);
  --color-lcd-light: var(--color-neutral-0);
  --color-lcd-hover: var(--color-blue-dark);

  --focus-ring: 0 0 0 4px rgba(63, 151, 255, 0.8);
}

html,
body {
  height: 100%;
  min-height: 100%;
  overflow: hidden;
}

body {
  background-color: var(--color-bg);
  max-width: 100vw;
}

.home {
  height: 100%;
  max-width: 540px;
  margin: 0 auto;
  padding: 0 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

#synth {
  width: 100%;
}

#synth[data-loading="true"] {
  pointer-events: none;
}

#synth[data-loading="true"] .synth-randomize {
  display: none;
}

#synth[data-enabled="true"] #synth-start {
  display: none;
}

#synth[data-enabled="false"] .synth-instruments,
#synth[data-enabled="false"] .synth-staff {
  display: none;
}

.lcd-bg {
  fill: var(--color-lcd-bg);
}

.lcd-base,
.notehead {
  fill: var(--color-lcd-dark);
}

.lcd-highlight {
  fill: var(--color-lcd-light);
}

.synth-base {
  fill: var(--color-synth-base);
}

.synth-between-keys {
  fill: var(--color-neutral-3);
}

.instrument,
.notehead {
  display: none;
}

.synth-endcap {
  fill: var(--color-synth-endcap);
}

.lcd-outline {
  fill: var(--color-synth-lcd-outline);
}

.synth-keys-outline,
.synth-key .pressed-overlay,
.synth-key .crack {
  fill: var(--color-synth-keys-outline);
}

.synth-shadow,
.synth-keys-shadow {
  fill: black;
  opacity: 0.1;
}

#synth-start {
  cursor: pointer;
}

#synth-start:not(:hover) .lcd-base {
  animation: pressStart 2s infinite;
}

#synth-start:not(:hover) .lcd-base:nth-child(2) {
  animation-delay: 0.2s;
}

#synth-start:not(:hover) .lcd-base:nth-child(3) {
  animation-delay: 0.4s;
}

#synth-start:not(:hover) .lcd-base:nth-child(4) {
  animation-delay: 0.6s;
}

#synth-start:not(:hover) .lcd-base:nth-child(5) {
  animation-delay: 0.8s;
}

#synth-start:hover .lcd-base {
  opacity: 1;
}

@keyframes pressStart {
  0%,
  10% {
    opacity: 0.8;
  }
  100% {
    opacity: 1;
  }
}

.synth-key {
  cursor: pointer;
  transition: fill 0.4s ease-out;
}

.synth-key .pressed-overlay {
  transform: translateY(2px);
  transition: transform 0.1s ease-out;
}

.synth-key .crack {
  opacity: 0;
  transition: opacity 0.4s ease-out;
}

.synth-key.white .base {
  fill: var(--color-synth-whitekey);
}

.synth-key.black .base {
  fill: var(--color-synth-blackkey);
}

.synth-key.black .highlight {
  fill: rgba(white, 0.15);
}

.synth-key .base {
  transition: fill 0.4s ease-out;
}

.synth-key.pressed .base {
  transition: none;
  fill: var(--color-synth-whitekey-pressed);
}

.synth-key.pressed.black .base {
  fill: var(--color-synth-blackkey-pressed);
}

.synth-key.pressed .pressed-overlay {
  transition: none;
  transform: translateY(0);
}

.synth-key.pressed .crack {
  transition: none;
  opacity: 1;
}

.key-letter {
  fill: rgba(0, 0, 0, 0.3);
  opacity: 0;
  transform: translateY(4px);
  transition: 0.4s ease-out;
}

.key-letter.visible {
  opacity: 1;
  transform: translateY(0);
}

.key-letter.fadeout {
  opacity: 0;
  transition: opacity 1s ease-in;
  transition-delay: 0.2s;
}

.synth-instrument {
  cursor: pointer;
}

.synth-randomize {
  display: none;
}

body.has-touch .synth-randomize {
  display: none;
}

@media not all and (pointer: coarse) {
  .synth-instrument:hover .synth-randomize {
    display: block;
  }
  .synth-instrument:hover .instrument {
    display: none !important;
  }
}

.instrument-arrow {
  cursor: pointer;
}

.instrument-arrow:hover .lcd-base {
  fill: var(--color-lcd-hover);
}
