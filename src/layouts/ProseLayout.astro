---
import Center from "../components/Center.astro";
import { RelativeDate } from "../components/RelativeDate/RelativeDate";
import Stack from "../components/Stack/Stack.astro";
import Subscribe from "../components/Subscribe/Subscribe.astro";
import BaseLayout from "./BaseLayout.astro";
import * as styles from "./prose.css";

const { frontmatter } = Astro.props;
---

<BaseLayout
  title={frontmatter.title}
  description={frontmatter.description}
  includeFooter
>
  <Center>
    <article
      itemscope
      itemtype="https://schema.org/BlogPosting"
      class={styles.article}
    >
      <header class={styles.header}>
        <Stack>
          <h1 itemprop="name">{frontmatter.title}</h1>
          <p class={styles.subtitle}>{frontmatter.description}</p>
          <Stack>
            <RelativeDate
              date={frontmatter.datePublished}
              prefix="Published"
              icon="seedling"
              client:load
            />
            {
              frontmatter.dateModified && (
                <RelativeDate
                  date={frontmatter.dateModified}
                  prefix="Last tended"
                  icon="sparkling"
                  client:load
                />
              )
            }
          </Stack>
        </Stack>
      </header>
      <section itemprop="articleBody" class={styles.articleBody}>
        <slot />
      </section>
    </article>
    <Subscribe />
  </Center>
</BaseLayout>
