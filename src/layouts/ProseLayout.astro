---
import Stack from "src/components/Stack/Stack.astro";

import Center from "../components/Center/Center.astro";
import Footer from "../components/Footer/Footer.astro";
import { RelativeDate } from "../components/RelativeDate/RelativeDate";
import Subscribe from "../components/Subscribe/Subscribe.astro";
import BaseLayout from "./BaseLayout.astro";
import * as styles from "./prose.css";

interface Props {
  title: string;
  description: string;
  datePublished: Date;
  dateModified?: Date;
}

const { title, description, datePublished, dateModified } = Astro.props;
---

<BaseLayout title={title} description={description}>
  <main class={styles.main}>
    <Center>
      <article
        itemscope
        itemtype="https://schema.org/BlogPosting"
        class={styles.article}
      >
        <header class={styles.header}>
          <Stack>
            <h1 itemprop="name">{title}</h1>
            <p class={styles.subtitle}>{description}</p>
            <Stack>
              <RelativeDate
                date={datePublished}
                prefix="Published"
                icon="seedling"
                client:load
              />
              {
                dateModified && (
                  <RelativeDate
                    date={dateModified}
                    prefix="Last tended"
                    icon="sparkling"
                    client:load
                  />
                )
              }
            </Stack>
          </Stack>
        </header>
        <section itemprop="articleBody" class={styles.articleBody}>
          <slot />
        </section>
      </article>
      <Subscribe />
    </Center>
  </main>
  <Footer />
</BaseLayout>
