---
import { SamStickers } from "../components/SamStickers/SamStickers";
import BaseLayout from "../layouts/BaseLayout.astro";
import AboutCard from "./index/AboutCard.astro";
import HeroCard from "./index/HeroCard.astro";
import NotesCard from "./index/NotesCard.astro";
import SubscribeCard from "./index/SubscribeCard.astro";
---

<BaseLayout
  title="Eva Decker"
  description="Eva is a designer and web developer based in Brooklyn, NY."
  includeFooter
>
  <div class="bento-wrapper">
    <div class="bento">
      <div class="hero">
        <HeroCard />
      </div>
      <div class="about">
        <AboutCard />
      </div>
      <div class="notes">
        <NotesCard />
      </div>
      <div class="subscribe">
        <SubscribeCard />
      </div>
    </div>
  </div>
  <SamStickers client:visible slot="after-footer" />

  <script>
    import { addSam } from "../stores/sam";
    const samButton = document.querySelector("[data-sam-button]");
    samButton?.addEventListener("click", () => addSam());
  </script>
</BaseLayout>

<style>
  .bento-wrapper {
    display: flex;
    flex: 1;
    flex-direction: column;
    justify-content: center;
  }

  .bento {
    display: grid;
    padding: 1em;
    gap: 1em;
    grid-template:
      "hero hero about"
      "subscribe notes notes";
    grid-template-columns: repeat(3, minmax(0, 1fr));
    grid-template-rows: repeat(2, minmax(0, 1fr));
    max-width: 1440px;
    margin-inline: auto;
  }

  @media (width < 1080px) {
    .bento {
      grid-template:
        "hero hero"
        "about subscribe"
        "notes notes";
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
  }

  @media (width < 560px) {
    .bento {
      grid-template:
        "hero"
        "about"
        "notes"
        "subscribe";
      grid-template-columns: 1fr;
    }
  }

  .hero {
    grid-area: hero;
  }

  .about {
    grid-area: about;
  }

  .notes {
    grid-area: notes;
  }

  .subscribe {
    grid-area: subscribe;
  }
</style>
