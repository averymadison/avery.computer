---
import { getCollection, getEntry } from "astro:content";
import Webring from "src/components/Webring.astro";

import Center from "../components/Center.astro";
import PageHeader from "../components/PageHeader.astro";
import madeWithHands from "../content/badges/gossips-web.jpeg";
import BaseLayout from "../layouts/BaseLayout.astro";

const webrings = await getCollection("webrings");
const badges = await getEntry("badges", "badges");

const title = "Friends";
const description = "Cool people and places on the web.";
---

<BaseLayout title={title} description={description} includeFooter padBottom>
  <PageHeader title={title} description={description} />
  <Center>
    <section>
      <h2>Webrings</h2>
      <p>
        <a href="https://en.wikipedia.org/wiki/Webring">Webrings</a> are collections
        of fun, strange, related sites. You can browse back and forth between sites
        in one big loop. Here are the webrings this website belongs to.
      </p>
      <div class="webrings">
        {webrings.map((webring) => <Webring webring={webring} />)}
      </div>
    </section>
    <section class="badge-section">
      <div class="badges">
        {
          badges.data.map((badge) => (
            <a href={badge.url} target="_blank">
              <img src={badge.img.src} alt={badge.alt} style={`height: 31px`} />
            </a>
          ))
        }
      </div>
      <small>
        88&times;31 buttons from <a
          href="https://hellnet.work/8831/"
          rel="external">hellnet.work</a
        >, <a href="https://cyber.dabamos.de/88x31/index.html" rel="external"
          >cyber.dabamos.de</a
        >, and
        <a href="https://yesterweb.org/graphics/buttons" rel="external"
          >yesterweb.org</a
        >. Thanks to all the creators!
      </small>
      <a href="https://gossipsweb.net/" rel="external">
        <img
          src={madeWithHands.src}
          alt="This website was made with hands."
          style="height: 43px; border: 1px solid #000"
        />
      </a>
    </section>
  </Center>
</BaseLayout>

<style lang="scss">
  section {
    display: flex;
    flex-direction: column;
    gap: var(--space-l);

    & + section {
      margin-block-start: var(--space-3xl);
    }
  }

  .webrings {
    display: flex;
    flex-direction: column;
    gap: var(--space-m);
    padding-block: var(--space-m);
  }

  .badge-section {
    align-items: center;
    text-align: center;
  }

  .badges {
    width: 100%;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: var(--space-xs);

    img {
      flex-grow: 0;
      flex-shrink: 0;
    }
  }
</style>
